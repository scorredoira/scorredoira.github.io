if("undefined"===typeof S)var S={};
(function(){S.isDefined=function(a){return"undefined"!==typeof a};S.isArray=function(a){return a?S.isNumber(a.length)&&S.isFunction(a.splice):!1};S.isNumber=function(a){return"number"===typeof a&&isFinite(a)};S.isFunction=function(a){return"function"===typeof a};S.log=function(a){console.log(a)};S.each=function(a,b){if(a)for(var c=0,f=a.length;c<f;c++)b(a[c])};S.detach=function(a,b,c,f){c?a.addEventListener?a.removeEventListener(b,c,f):a.attachEvent?a.detachEvent("on"+b,c):a["on"+b]=null:a["on"+b]=
null};S.t=function(a){return a};S.get=function(a){"string"==typeof a&&(a=document.getElementById(a));return a};S.getChildrenByTag=function(a,b){var c=[];S.each(a.childNodes,function(a){a.tagName&&a.tagName.toLowerCase()==b&&c.push(a)});return c};S.removeFromBody=function(a){a=S.get(a);null!=a&&(null!=a.parentElement||null!=a.parentNode)&&document.getElementsByTagName("body")[0].removeChild(a)};S.setText=function(a,b){null==b&&(b="");a=S.get(a);S.isDefined(a.innerText)?a.innerText=b:a.textContent=
b};S.create=function(a,b,c,f,g){a=document.createElement(a);b&&(a.id=b);c&&(a.className=c);f&&f.appendChild(a);g&&S.setText(a,g);return a};S.hasClass=function(a,b){"string"==typeof a&&(a=document.getElementById(a));return RegExp("\\b"+b+"\\b").test(a.className)};S.removeClass=function(a,b){S.isArray(a)?S.each(a,function(a){S.removeClass(a,b)}):("string"==typeof a&&(a=document.getElementById(a)),a.className=a.className.replace(RegExp("\\b"+b+"\\b")," "))};S.addClass=function(a,b){S.isArray(a)?S.each(a,
function(a){S.addClass(a,b)}):("string"==typeof a&&(a=document.getElementById(a)),S.hasClass(a,b)||(a.className+=" "+b))};S.setStyle=function(a,b,c){if("opacity"==b.toLowerCase()&&"string"===typeof a.style.filter&&(a.style.filter="alpha(opacity="+100*c+")",!a.currentStyle||!a.currentStyle.hasLayout))a.style.zoom=1;a.style[b]=c};S.getDocumentHeight=function(){var a=document.body,b=document.documentElement;return Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight)};
S.getWindowSize=function(){var a=0,b=0;if("number"==typeof window.innerWidth)a=window.innerWidth,b=window.innerHeight;else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight))a=document.documentElement.clientWidth,b=document.documentElement.clientHeight;else if(document.body&&(document.body.clientWidth||document.body.clientHeight))a=document.body.clientWidth,b=document.body.clientHeight;return{width:a,height:b}};S.attach=function(a,b,c,f){a.addEventListener?
a.addEventListener(b,c,f):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c};S.cancelBubble=function(a){a||(a=a||window.event);a.cancelBubble&&(a.cancelBubble=!0);S.isDefined(a.stopPropagation)&&a.stopPropagation()}})();(function(){function a(a){a.windowSize=S.getWindowSize();if(!(600>a.windowSize.width)){var d=S.getChildrenByTag(a.element,"img");a.images=d;for(var c=0;c<d.length;c++)b(a,d[c],c)}}function b(a,b,h){S.addClass(b,"thumbnail");b.onclick=function(){c(a,h)}}function c(a,b){if(!a.bgLayer){a.bgLayer=f("gallery bgLayer noselect");var c=a.images;a.foreLayers=[];for(var e=0;e<c.length;e++)g(a,e);S.attach(window,"keydown",a.keyDown);window.scrollTo(0,0)}c=a.foreLayers[b];a.foreLayer&&S.removeClass(a.foreLayer,
"lyVisible");c.style.display="block";S.addClass(c,"lyVisible");a.foreLayer=c;a.index=b}function f(a){var b=document.createElement("div");b.className=a;b.style.height=S.getDocumentHeight()+"px";document.body.appendChild(b);return b}function g(a,b){var h=f("gallery forePanel");a.foreLayers[b]=h;var e=document.createElement("img");e.className="foreImage";e.src=a.images[b].src;h.appendChild(e);var g=a.windowSize.height/2-e.height/2;0<g&&(e.style.marginTop=g+"px");e.onclick=function(b){S.cancelBubble(b);
c(a,a.next())};e.ontouchstart=function(b){a.dragging=!0;b.preventDefault();a.touchStart=b.changedTouches[0].clientX};e.ontouchmove=function(b){if(a.dragging){var d=a.touchStart-b.changedTouches[0].clientX;10>Math.abs(d)||(a.dragging=!1,b.preventDefault(),0<d?c(a,a.next()):c(a,a.previous()))}};h.onclick=function(){for(var b=a.foreLayers,c=0;c<b.length;c++)S.removeFromBody(b[c]);S.removeFromBody(a.bgLayer);a.bgLayer=null;S.detach(window,"keydown",a.keyDown)}}S.gallery=function(b){var d=this;d.element=
S.get(b);S.attach(window,"load",function(){a(d)});S.attach(window,"orientationchange",function(){a(d)});this.next=function(){var a=d.index||0;return a<d.images.length-1?a+1:0};this.previous=function(){var a=d.index||0;return 1<a?a-1:d.images.length-1};this.keyDown=function(a){switch(a.keyCode){case 37:c(d,d.next());break;case 39:c(d,d.previous())}}}})();
